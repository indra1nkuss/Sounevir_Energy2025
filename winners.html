<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daftar 100 Pemenang - Energi 2025</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="winners">
  <canvas id="bgEnergy" aria-hidden="true"></canvas>

  <div class="container">
    <div class="logo-wrap">
      <img src="assets/logoenergi.png" class="logo" alt="Logo Energi">
    </div>
    <h1>ğŸ† Daftar 100 Pemenang Training Online Efisiensi Energi 2025 ğŸ†</h1>
    <div class="divider" aria-hidden="true"></div>
    <p class="desc">Berikut adalah daftar resmi para pemenang tahun 2025 berdasarkan hasil evaluasi pelatihan efisiensi energi.</p>
    <input id="searchInput" type="text" placeholder="Cari nama atau NIK" aria-label="Cari pemenang">
    <div class="emoji-track top" aria-hidden="true"></div>

    <div class="winner-grid">
      <div class="winner-card" style="animation-delay: 0s;"><p><strong>NIK:</strong> 54274</p><p>Nama Pemenang 1</p><p><strong>Departemen:</strong> Plant 1</p></div>
      <div class="winner-card" style="animation-delay: 0.05s;"><p><strong>NIK:</strong> 54275</p><p>Nama Pemenang 2</p><p><strong>Departemen:</strong> Plant 1</p></div>
      <div class="winner-card" style="animation-delay: 0.1s;"><p><strong>NIK:</strong> 54276</p><p>Nama Pemenang 3</p><p><strong>Departemen:</strong> Plant 1</p></div>
      <div class="winner-card" style="animation-delay: 0.15s;"><p><strong>NIK:</strong> 54277</p><p>Nama Pemenang 4</p><p><strong>Departemen:</strong> Plant 1</p></div>
      <div class="winner-card" style="animation-delay: 0.2s;"><p><strong>NIK:</strong> 54278</p><p>Nama Pemenang 5</p><p><strong>Departemen:</strong> Plant 2</p></div>
      <div class="winner-card" style="animation-delay: 0.25s;"><p><strong>NIK:</strong> 54279</p><p>Nama Pemenang 6</p><p><strong>Departemen:</strong> Plant 2</p></div>
      <div class="winner-card" style="animation-delay: 0.3s;"><p><strong>NIK:</strong> 54280</p><p>Nama Pemenang 7</p><p><strong>Departemen:</strong> Plant 2</p></div>
      <div class="winner-card" style="animation-delay: 0.35s;"><p><strong>NIK:</strong> 54281</p><p>Nama Pemenang 8</p><p><strong>Departemen:</strong> Plant 3</p></div>
      <div class="winner-card" style="animation-delay: 0.4s;"><p><strong>NIK:</strong> 54282</p><p>Nama Pemenang 9</p><p><strong>Departemen:</strong> Plant 3</p></div>
      <div class="winner-card" style="animation-delay: 0.45s;"><p><strong>NIK:</strong> 54283</p><p>Nama Pemenang 10</p><p><strong>Departemen:</strong> Plant 4</p></div>
      <div class="winner-card" style="animation-delay: 0.5s;"><p><strong>NIK:</strong> 54285</p><p>Akek</p><p><strong>Departemen:</strong> rubber</p></div>
      <!-- Lanjutkan hingga 100 -->
    </div>

    <div class="emoji-track bottom" aria-hidden="true"></div>
    <button onclick="goBack()">â¬…ï¸ Kembali</button>
    <p class="made">Made with âš¡ Team Energi</p>
  </div>
 <audio id="bgMusic" src="assets/queen_weare.m4a" loop></audio>

<script src="script.js"></script>
<script>
  const input = document.getElementById('searchInput');
  const cards = Array.from(document.querySelectorAll('.winner-card'));
  input.addEventListener('input', () => {
    const q = input.value.trim().toLowerCase();
    for (const c of cards) {
      const t = c.textContent.toLowerCase();
      c.style.display = q === '' || t.includes(q) ? '' : 'none';
    }
  });

  const io = new IntersectionObserver((entries) => {
    for (const e of entries) {
      if (e.isIntersecting) {
        e.target.classList.add('show');
        io.unobserve(e.target);
      }
    }
  }, { threshold: 0.1 });
  cards.forEach(c => io.observe(c));

  function celebrate() {
    const emojis = ['ğŸ‰','âœ¨','ğŸ†','âš¡'];
    const n = 36;
    for (let i=0;i<n;i++){
      const s = document.createElement('span');
      s.className = 'confetti';
      s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      s.style.left = Math.random()*100 + 'vw';
      s.style.fontSize = (Math.random()*18 + 12) + 'px';
      s.style.animationDuration = (Math.random()*2 + 3) + 's';
      document.body.appendChild(s);
      setTimeout(()=> s.remove(), 6000);
    }
  }
  window.addEventListener('load', () => { celebrate(); setInterval(celebrate, 8000); });

  const topTrack = document.querySelector('.emoji-track.top');
  const bottomTrack = document.querySelector('.emoji-track.bottom');
  const trackEmojis = ['âš¡','ğŸ”‹','ğŸ’¡','ğŸ”§','â™»ï¸','ğŸ­'];
  function initTrack(track) {
    if (!track) return;
    for (let i=0;i<24;i++){
      const s = document.createElement('span');
      s.textContent = trackEmojis[Math.floor(Math.random()*trackEmojis.length)];
      s.style.left = Math.random()*100 + 'vw';
      s.style.fontSize = (Math.random()*10 + 16) + 'px';
      s.style.animationDuration = (Math.random()*3 + 5) + 's';
      s.style.animationDelay = (-Math.random()*6) + 's';
      track.appendChild(s);
    }
  }
  initTrack(topTrack);
  initTrack(bottomTrack);

  (function energyWaves(){
    const canvas = document.getElementById('bgEnergy');
    const ctx = canvas.getContext('2d');
    function resize(){
      const dpr = Math.max(window.devicePixelRatio||1,1);
      canvas.style.width = window.innerWidth+'px';
      canvas.style.height = window.innerHeight+'px';
      canvas.width = Math.round(window.innerWidth*dpr);
      canvas.height = Math.round(window.innerHeight*dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    resize();
    window.addEventListener('resize', resize);
    let t = 0;
    function draw(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      const lines = 3;
      for(let i=0;i<lines;i++){
        const hue = i===0? 190 : i===1? 48 : 160;
        ctx.strokeStyle = `hsla(${hue}, 90%, 60%, 0.25)`;
        ctx.lineWidth = 2;
        ctx.beginPath();
        for(let x=0;x<=innerWidth;x+=6){
          const y = innerHeight*0.2 + i*innerHeight*0.22 + Math.sin((x*0.01)+t+(i*0.8))*14;
          if(x===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
        }
        ctx.stroke();
      }
      t += 0.02;
      requestAnimationFrame(draw);
    }
    draw();
  })();

  const artClasses = ['art-gear','art-turbine','art-bolt'];
  cards.forEach(c => c.classList.add(artClasses[Math.floor(Math.random()*artClasses.length)]));

  function adjustLogoFrame(){
    const img = document.querySelector('.logo-wrap .logo');
    const wrap = document.querySelector('.logo-wrap');
    if (!img || !wrap) return;
    const rect = img.getBoundingClientRect();
    let diam = Math.max(rect.width, rect.height) + 8;
    if (window.innerWidth <= 480) {
      diam = Math.min(diam, 100);
    }
    wrap.style.setProperty('--logoDiam', diam + 'px');
  }
  window.addEventListener('load', adjustLogoFrame);
  window.addEventListener('resize', adjustLogoFrame);
  const logoImg = document.querySelector('.logo-wrap .logo');
  logoImg && logoImg.addEventListener('load', adjustLogoFrame);
</script>

